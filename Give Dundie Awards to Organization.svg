<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="2116.716829488844" height="1893.5836204674576"><desc>title%20Give%20Dundie%20Awards%20to%20Organization%0A%0A%0A%23CONTROLLER%0Aparticipant%20User%0Aparticipant%20AwardController%0Aparticipant%20OrganizationService%0Aparticipant%20AwardService%0Aparticipant%20EmployeeService%0A%0A%0Aparticipant%20AwardOperationLogService%0A%0Aparticipant%20EmployeeRepository%0Aparticipant%20OrganizationRepository%0Aparticipant%20AwardCache%0Aparticipant%20MessageBroker%0Aparticipant%20StreamProcessor%0Aparticipant%20ActivityService%0Aparticipant%20ActivityRepository%0Aparticipant%20FailureProcessService%0Aparticipant%20AwardRepository%0A%0A%0AUser-%3EAwardController%3A%20%2Fgive-dundie-awards%2F%7BorganizationId%7D%0Aalt%20%23a3001f%20Organization%20is%20valid%0AAwardController-%3EAwardController%3A%20Bean%20validate%20%5Cn%40BlockedOrganizationId%0AAwardController-%3EOrganizationService%3A%20isBlocked(organizationId)%5CnexistsOrganization(organizationId)%0A%20%20%20%20AwardController-%3EAwardController%3A%20generate%20Request%20UUID%0A%20%20%20%20AwardController-%3EAwardService%3A%20giveDundieAwards(UUID%2Clong%20organizationId)%0A%20%20%20%20AwardService-%3EEmployeeService%3AfetchEmployeeRollbackData(uuid%2C%20organizationId)%0A%20%20%20%20EmployeeService-%3EAwardService%3AString%20rollbackData%0AAwardService-%3EAwardOperationLogService%3AcreateAwardOperationLog(uuid%2C%20rollbackData)%0AAwardService-%3EEmployeeService%3AaddDundieAwardToEmployees(uuid%2C%20organizationId)%0AEmployeeService-%3EEmployeeRepository%3AincreaseAwardsToEmployeesNative(organizationId)%0AAwardService%3C-EmployeeRepository%3AtotalUpdatedRecords%0A%20%20%20%20AwardService-%3EOrganizationService%3Ablock(uuid%2C%20organizationId)%0A%20%20%20%20OrganizationService-%3EOrganizationRepository%3AblockOrganizationById(UUID%2CorganizationId)%5CnChange%3A%5Cnorganization.blocked%3Atrue%5Cnorganization.blocked_by%3AUUID%0A%20%20%20%20AwardService-%3EAwardCache%3A%20increseAwards(totalAwards)%0A%20%20%20%20AwardService-%3EMessageBroker%3A%20publish(AWARD_ORGANIZATION_SUCCESS_EVENT%5BUUID%2C%20instant%2C%20totalAffectedEmployees%2C%20totalAwards%5D)%0A%20%20%20%20AwardService-%3EAwardController%3ASuccess%20(log%20totalUpdatedRecords)%0A%20%20%20%20AwardController-%3EUser%3A%20Ok%20200%3A%20%5CnAwarded%20Organization%0Aelse%20Organization%20is%20blocked%0A%20%20%20%20AwardController-%3EUser%3A%20Error%20400%3A%20%5CnThe%20organization%20is%20blocked%5Cn%20and%20cannot%20perform%20this%20operation.%0Aelse%20Organization%20is%20blocked%0A%20%20%20%20AwardController-%3EUser%3A%20Error%20404%3A%20%5CnOrganization%20with%20id%3A%20%5Cn%7BorganizationId%7D%20not%20found%0Aend%0A%0A%0AMessageBroker--%3EStreamProcessor%3Aprocess(AWARD_ORGANIZATION_SUCCESS_EVENT%5BUUID%2C%20instant%2C%20totalAffectedEmployees%2C%20totalAwards%2C%20organization%5D)%0AStreamProcessor-%3EActivityService%3AhandleAwardOrganizationSuccessEvent(AWARD_ORGANIZATION_SUCCESS_EVENT)%0A%0A%23%20REPEATABLE%20SAVE%20ACTIVITY%0AActivityService-%3EActivityService%3AprocessActivityCreation(event)%0Agroup%20%231f77b4%20repeatableSaveActivity(UUID)%20%23white%0A%20%20%20%20loop%20Retry%20until%20success%20or%20ENV%7BretrySaveActivitiesMaxAttempts%7D%0A%20%20%20%20%20%20%20%20ActivityService-%3EActivityService%3A%20await(attempt%20*%20ENV%7BtimeToWaitRetry%7D)%0A%20%20%20%20%20%20%20%20alt%20Activity%20save%20success%0A%20%20%20%20%20%20%20%20%20%20group%20finalizeActivityTransaction(uuid%2CtotalAwards%2C%20activity%2C%20organization%2C%20event)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ActivityService-%3EActivityRepository%3AactivityRepository.save(activity)%0A%20%20ActivityService-%3EAwardOperationLogService%3AcleanAwardBatchLogs(UUID)%0A%20%20ActivityService-%3EOrganizationService%3Aunblock(uuid%2C%20organization)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ActivityService-%3EMessageBroker%3ApublishSaveActivityAwardOrganizationSuccessEvent(uuid%2Cactivity%2CtotalAwards%2C%20organization)%0A%20%20%20%20%20%20%20%20%20%20end%0A%20%20%20%20%20%20%20%20else%20Retry%20save%20failure%0A%20%20%20%20%20%20%20%20%20%20%20%20ActivityService-%3EActivityService%3A%20increaseAttempt%0A%20%20%20%20%20%20%20%20%20%20%20%20ActivityService-%3EMessageBroker%3ApublishSaveActivityAwardOrganizationRetryEvent(uuid%2C%20totalAwards%2C%20attempt%2C%20activity%2C%20organization)%0A%20%20%20%20%20%20%20%20else%20Reach%20max%20attempts%3A%20ENV%7BretrySaveActivitiesMaxAttempts%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20ActivityService-%3EMessageBroker%3ApublishSaveActivityAwardOrganizationFailureEvent(uuid%2C%20totalAwards%2C%20activity%2C%20organization)%0A%20%20%20%20%20%20%20%20end%0A%20%20%20%20end%0Aend%0A%0A%0AMessageBroker--%3EStreamProcessor%3Aprocess(SAVE_ACTIVITY_AWARD_ORGANIZATION_RETRY_EVENT%5Buuid%2C%20totalAwards%2C%20attempt%2C%20activity%2C%20organization%5D)%0AStreamProcessor-%3EActivityService%3AhandleSaveActivityAwardOrganizationRetryEvent(SAVE_ACTIVITY_AWARD_ORGANIZATION_RETRY_EVENT)%0Aref%20over%20ActivityService%2C%20MessageBroker%20%23D4E4F0%3A%20Repeatable%20Save%20Activity%20Process%0A%0A%0AMessageBroker--%3EStreamProcessor%3Aprocess(SAVE_ACTIVITY_AWARD_ORGANIZATION_SUCCESS_EVENT%5BUUID%2C%20instant%2C%20Activity%2C%20totalAwards%2C%20organization%5D)%0AStreamProcessor-%3EAwardService%3AhandleSaveActivityAwardOrganizationSuccessEvent(SAVE_ACTIVITY_AWARD_ORGANIZATION_SUCCESS_EVENT)%0AAwardService-%3EAwardCache%3AaddAwards(totalAwards)%0A%0A%0A%0A%0A%0A%0A%0A%0AMessageBroker--%3EStreamProcessor%3A%20process(SAVE_ACTIVITY_AWARD_ORGANIZATION_FAILURE_EVENT)%0AStreamProcessor-%3EAwardService%3A%20handleSaveActivityAwardOrganizationFailure(SAVE_ACTIVITY_AWARD_ORGANIZATION_FAILURE_EVENT)%0A%0A%0A%23%20REPEATABLE%20ROLLBACK%0Agroup%20%232f2e7b%20repeatableRollback(UUID)%20%23white%0A%20%20%20%20loop%20Retry%20until%20success%20or%20ENV%7BretryAwardRollbackMaxAttempts%7D%0A%20%20%20%20%20%20%20%20alt%20Award%20rollback%20success%0A%20%20%20%20%20%20%20%20%20%20%20%20AwardService-%3EAwardService%3A%20await(attempt%20*%20ENV%7BtimeToWaitRetry%7D)%0A%20%20%20%20%20%20%20%20%20%20%20%20group%20rollback(UUID)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20AwardService-%3EAwardOperationLogService%3A%20getAwardBatchLogs(UUID)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20AwardRepository-%3EAwardService%3A%20List%3CBatchLogs%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20loop%20for%20each%20List%3Clong%3E%20batch%20in%20batches%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20AwardService-%3EEmployeeService%3A%20removeDundieAwardToEmployees(batch)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20EmployeeService-%3EEmployeeRepository%3A%20decreaseAwardsToEmployees(List%3Clong%3E)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20end%0A%20%20%20%20%20%20%20%20%20%20%20%20end%0A%20%20%20%20%20%20%20%20%20%20%20%20AwardService-%3EMessageBroker%3A%20publish(AWARD_ORGANIZATION_ROLLBACK_SUCCESS_EVENT%5BUUID%2C%20instant%2C%20totalAffectedEmployees%2C%20totalAwards%5D)%0A%20%20%20%20%20%20%20%20else%20Award%20rollback%20failure%0A%20%20%20%20%20%20%20%20%20%20%20%20AwardService-%3EAwardService%3A%20increaseAttempt%0A%20%20%20%20%20%20%20%20%20%20%20%20AwardService-%3EMessageBroker%3A%20publish(AWARD_ORGANIZATION_ROLLBACK_RETRY_EVENT%5BUUID%2C%20instant%2C%20attempt%5D)%0A%20%20%20%20%20%20%20%20else%20Reach%20max%20attempts%3A%20ENV%7BretryAwardRollbackMaxAttempts%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20AwardService-%3EMessageBroker%3A%20publish(AWARD_ORGANIZATION_ROLLBACK_FAILURE_EVENT%5BUUID%2C%20instant%5D)%0A%20%20%20%20%20%20%20%20end%0A%20%20%20%20end%0Aend%0A%0AMessageBroker--%3EStreamProcessor%3A%20process(AWARD_ORGANIZATION_ROLLBACK_RETRY_EVENT%5BUUID%2C%20instant%2C%20attempt%5D)%0AStreamProcessor-%3EAwardService%3A%20handleAwardOrganizationRollbackRetry(AWARD_ORGANIZATION_ROLLBACK_RETRY_EVENT)%0Aref%20over%20AwardService%2C%20MessageBroker%20%23D6D5E5%20%3A%20Repeatable%20Rollback%20Process%0A%0A%0AMessageBroker--%3EStreamProcessor%3A%20process(AWARD_ORGANIZATION_ROLLBACK_SUCCESS_EVENT)%0AStreamProcessor-%3EAwardService%3A%20handleAwardOrganizationRollBackSuccess(AWARD_ORGANIZATION_ROLLBACK_SUCCESS_EVENT)%0AAwardService-%3EOrganizationService%3AunblockOrganization(UUID%2CorganizationId)%0AAwardService-%3EAwardCache%3A%20decreaseAwards(totalAwards)%0A%0AMessageBroker--%3EStreamProcessor%3A%20process(AWARD_ORGANIZATION_ROLLBACK_FAILURE_EVENT%5BUUID%2C%20instant%5D)%0AStreamProcessor-%3EAwardService%3A%20handleAwardOrganizationRollbackFailure(AWARD_ORGANIZATION_ROLLBACK_FAILURE_EVENT)%0AAwardService-%3EFailureProcessService%3AlogFailureProcess(UUID)%0A</desc><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="2116" height="1893"/></g><g><rect fill="rgb(237,204,210)" stroke="none" x="7.5393246000000005" y="80.37605416745454" width="1040.1152707209374" height="536.0459790599999"/><rect fill="rgb(210,228,240)" stroke="none" x="234.3025297539062" y="700.8624687474545" width="1708.6952097832425" height="344.54713422"/><rect fill="rgb(213,213,229)" stroke="none" x="371.98983589062493" y="1242.1859750274552" width="1737.1876689982187" height="397.32240642000147"/></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 33.9269607 44.18729608745455 L 33.9269607 1893.5836204674576" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray="5.799480461538462,2.5131082"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 162.14266614374998 44.18729608745455 L 162.14266614374998 1893.5836204674576" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray="5.799480461538462,2.5131082"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 283.3081396539062 44.18729608745455 L 283.3081396539062 1893.5836204674576" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray="5.799480461538462,2.5131082"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 428.53477039062494 44.18729608745455 L 428.53477039062494 1893.5836204674576" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray="5.799480461538462,2.5131082"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 602.1606320843749 44.18729608745455 L 602.1606320843749 1893.5836204674576" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray="5.799480461538462,2.5131082"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 692.6340673114921 44.18729608745455 L 692.6340673114921 1893.5836204674576" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray="5.799480461538462,2.5131082"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 787.9203840083359 44.18729608745455 L 787.9203840083359 1893.5836204674576" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray="5.799480461538462,2.5131082"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 877.3418172823281 44.18729608745455 L 877.3418172823281 1893.5836204674576" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray="5.799480461538462,2.5131082"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 955.0432569650117 44.18729608745455 L 955.0432569650117 1893.5836204674576" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray="5.799480461538462,2.5131082"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1021.2669592209375 44.18729608745455 L 1021.2669592209375 1893.5836204674576" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray="5.799480461538462,2.5131082"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1409.7521196207422 44.18729608745455 L 1409.7521196207422 1893.5836204674576" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray="5.799480461538462,2.5131082"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1764.9406339023828 44.18729608745455 L 1764.9406339023828 1893.5836204674576" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray="5.799480461538462,2.5131082"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1893.9921296371485 44.18729608745455 L 1893.9921296371485 1893.5836204674576" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray="5.799480461538462,2.5131082"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1977.6657296591875 44.18729608745455 L 1977.6657296591875 1893.5836204674576" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray="5.799480461538462,2.5131082"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2060.1718949888436 44.18729608745455 L 2060.1718949888436 1893.5836204674576" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray="5.799480461538462,2.5131082"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 18.71609282540625 23.831119667454548 L 49.137828574593755 23.831119667454548 L 49.137828574593755 44.18729608745455 L 18.71609282540625 44.18729608745455 L 18.71609282540625 23.831119667454548 Z" stroke-miterlimit="10" stroke-width="1.2062919360000002" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="26.896260016406252" y="36.64797148745455" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">User</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 130.1485188502109 23.831119667454548 L 194.13681343728902 23.831119667454548 L 194.13681343728902 44.18729608745455 L 130.1485188502109 44.18729608745455 L 130.1485188502109 23.831119667454548 Z" stroke-miterlimit="10" stroke-width="1.2062919360000002" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="138.32868604121091" y="36.64797148745455" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">AwardController</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 245.14343724562104 23.831119667454548 L 321.4728420621914 23.831119667454548 L 321.4728420621914 44.18729608745455 L 245.14343724562104 44.18729608745455 L 245.14343724562104 23.831119667454548 Z" stroke-miterlimit="10" stroke-width="1.2062919360000002" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="253.32360443662105" y="36.64797148745455" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">OrganizationService</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 399.8722423597812 23.831119667454548 L 457.1972984214687 23.831119667454548 L 457.1972984214687 44.18729608745455 L 399.8722423597812 44.18729608745455 L 399.8722423597812 23.831119667454548 Z" stroke-miterlimit="10" stroke-width="1.2062919360000002" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="408.0524095507812" y="36.64797148745455" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">AwardService</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 568.068988758121 23.831119667454548 L 636.2522754106288 23.831119667454548 L 636.2522754106288 44.18729608745455 L 568.068988758121 44.18729608745455 L 568.068988758121 23.831119667454548 Z" stroke-miterlimit="10" stroke-width="1.2062919360000002" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="576.249155949121" y="36.64797148745455" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">EmployeeService</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 643.7916000106288 23.831119667454548 L 741.4765346123554 23.831119667454548 L 741.4765346123554 44.18729608745455 L 643.7916000106288 44.18729608745455 L 643.7916000106288 23.831119667454548 Z" stroke-miterlimit="10" stroke-width="1.2062919360000002" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="651.9717672016288" y="36.64797148745455" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">AwardOperationLogService</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 749.0158592123554 23.831119667454548 L 826.8249088043164 23.831119667454548 L 826.8249088043164 44.18729608745455 L 749.0158592123554 44.18729608745455 L 749.0158592123554 23.831119667454548 Z" stroke-miterlimit="10" stroke-width="1.2062919360000002" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="757.1960264033554" y="36.64797148745455" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">EmployeeRepository</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 834.3642334043163 23.831119667454548 L 920.3194011603398 23.831119667454548 L 920.3194011603398 44.18729608745455 L 834.3642334043163 44.18729608745455 L 834.3642334043163 23.831119667454548 Z" stroke-miterlimit="10" stroke-width="1.2062919360000002" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="842.5444005953163" y="36.64797148745455" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">OrganizationRepository</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 927.8587257603398 23.831119667454548 L 982.2277881696835 23.831119667454548 L 982.2277881696835 44.18729608745455 L 927.8587257603398 44.18729608745455 L 927.8587257603398 23.831119667454548 Z" stroke-miterlimit="10" stroke-width="1.2062919360000002" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="936.0388929513398" y="36.64797148745455" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">AwardCache</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 989.7671127696835 23.831119667454548 L 1052.7668056721914 23.831119667454548 L 1052.7668056721914 44.18729608745455 L 989.7671127696835 44.18729608745455 L 989.7671127696835 23.831119667454548 Z" stroke-miterlimit="10" stroke-width="1.2062919360000002" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="997.9472799606835" y="36.64797148745455" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">MessageBroker</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1375.8490901860898 23.831119667454548 L 1443.6551490553945 23.831119667454548 L 1443.6551490553945 44.18729608745455 L 1375.8490901860898 44.18729608745455 L 1375.8490901860898 23.831119667454548 Z" stroke-miterlimit="10" stroke-width="1.2062919360000002" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1384.0292573770898" y="36.64797148745455" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">StreamProcessor</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1735.1106711791563 23.831119667454548 L 1794.7705966256094 23.831119667454548 L 1794.7705966256094 44.18729608745455 L 1735.1106711791563 44.18729608745455 L 1735.1106711791563 23.831119667454548 Z" stroke-miterlimit="10" stroke-width="1.2062919360000002" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1743.2908383701563" y="36.64797148745455" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">ActivityService</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1859.3492854441954 23.831119667454548 L 1928.6349738301017 23.831119667454548 L 1928.6349738301017 44.18729608745455 L 1859.3492854441954 44.18729608745455 L 1859.3492854441954 23.831119667454548 Z" stroke-miterlimit="10" stroke-width="1.2062919360000002" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1867.5294526351954" y="36.64797148745455" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">ActivityRepository</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1936.1742984301015 23.831119667454548 L 2019.1571608882734 23.831119667454548 L 2019.1571608882734 44.18729608745455 L 1936.1742984301015 44.18729608745455 L 1936.1742984301015 23.831119667454548 Z" stroke-miterlimit="10" stroke-width="1.2062919360000002" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1944.3544656211016" y="36.64797148745455" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">FailureProcessService</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 2026.6964854882733 23.831119667454548 L 2093.6473044894137 23.831119667454548 L 2093.6473044894137 44.18729608745455 L 2026.6964854882733 44.18729608745455 L 2026.6964854882733 23.831119667454548 Z" stroke-miterlimit="10" stroke-width="1.2062919360000002" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2034.8766526792733" y="36.64797148745455" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">AwardRepository</text></g></g><g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="7.272727272727273pt" font-style="normal" font-weight="normal" text-decoration="normal" x="979.7206954956055" y="11.377526214545455" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Give Dundie Awards to Organization</text></g><g><rect fill="white" stroke="none" x="42.848494809999984" y="59.26594528745454" width="110.37263722375" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="43.979393499999986" y="66.05133742745454" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">/give-dundie-awards/{organizationId}</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 33.9269607 69.06706726745455 L 155.93528888974998 69.06706726745455" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray=""/><g transform="translate(162.14266614374998,69.06706726745455) translate(-162.14266614374998,-69.06706726745455)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 155.85989564374998 65.92568201745455 L 162.14266614374998 69.06706726745455 L 155.85989564374998 72.20845251745455 Z"/></g></g><g><rect fill="rgb(237,204,210)" stroke="none" x="171.06420025374996" y="100.73223058745455" width="44.47201771691406" height="9.801121980000001"/><rect fill="rgb(237,204,210)" stroke="none" x="171.06420025374996" y="108.27155518745455" width="76.03213734582032" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="172.19509894374997" y="107.51762272745455" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Bean validate </text><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="172.19509894374997" y="115.05694732745455" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">@BlockedOrganizationId</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 162.14266614374998 118.07267716745454 L 192.29996454374998 118.07267716745454 L 192.29996454374998 127.87379914745455 L 168.35004339774997 127.87379914745455" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray=""/><g transform="translate(162.14266614374998,127.87379914745455) translate(-162.14266614374998,-127.87379914745455)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 168.42543664374998 124.73241389745455 L 162.14266614374998 127.87379914745455 L 168.42543664374998 131.01518439745456 Z"/></g></g><g><rect fill="rgb(237,204,210)" stroke="none" x="171.06420025374996" y="139.18278604745456" width="77.04019398644532" height="9.801121980000001"/><rect fill="rgb(237,204,210)" stroke="none" x="171.06420025374996" y="146.72211064745454" width="103.32240529015625" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="172.19509894374997" y="145.96817818745455" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">isBlocked(organizationId)</text><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="172.19509894374997" y="153.50750278745454" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">existsOrganization(organizationId)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 162.14266614374998 156.52323262745455 L 277.1007623999062 156.52323262745455" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray=""/><g transform="translate(283.3081396539062,156.52323262745455) translate(-283.3081396539062,-156.52323262745455)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 277.0253691539062 153.38184737745453 L 283.3081396539062 156.52323262745455 L 277.0253691539062 159.66461787745456 Z"/></g></g><g><rect fill="rgb(237,204,210)" stroke="none" x="171.06420025374996" y="167.83221952745453" width="73.3395561690625" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="172.19509894374997" y="174.61761166745453" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">generate Request UUID</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 162.14266614374998 177.63334150745453 L 192.29996454374998 177.63334150745453 L 192.29996454374998 187.43446348745454 L 168.35004339774997 187.43446348745454" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray=""/><g transform="translate(162.14266614374998,187.43446348745454) translate(-162.14266614374998,-187.43446348745454)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 168.42543664374998 184.29307823745452 L 162.14266614374998 187.43446348745454 L 168.42543664374998 190.57584873745455 Z"/></g></g><g><rect fill="rgb(237,204,210)" stroke="none" x="227.07957708451167" y="198.74345038745457" width="136.51828236535155" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="228.21047577451168" y="205.52884252745457" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">giveDundieAwards(UUID,long organizationId)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 162.14266614374998 208.54457236745455 L 422.32739313662495 208.54457236745455" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray=""/><g transform="translate(428.53477039062494,208.54457236745455) translate(-428.53477039062494,-208.54457236745455)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 422.2519998906249 205.40318711745454 L 428.53477039062494 208.54457236745455 L 422.2519998906249 211.68595761745456 Z"/></g></g><g><rect fill="rgb(237,204,210)" stroke="none" x="441.10174364857414" y="219.85355926745456" width="148.49191517785155" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="442.2326423385741" y="226.63895140745456" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">fetchEmployeeRollbackData(uuid, organizationId)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 428.53477039062494 229.65468124745456 L 595.9532548303749 229.65468124745456" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray=""/><g transform="translate(602.1606320843749,229.65468124745456) translate(-602.1606320843749,-229.65468124745456)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 595.877861584375 226.51329599745455 L 602.1606320843749 229.65468124745456 L 595.877861584375 232.79606649745458 Z"/></g></g><g><rect fill="rgb(237,204,210)" stroke="none" x="486.084249446914" y="240.9636681474546" width="58.52690358117187" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="487.21514813691397" y="247.7490602874546" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">String rollbackData</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 602.1606320843749 250.76479012745457 L 434.74214764462494 250.76479012745457" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray=""/><g transform="translate(428.53477039062494,250.76479012745457) translate(-428.53477039062494,-250.76479012745457)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 434.81754089062497 247.62340487745456 L 428.53477039062494 250.76479012745457 L 434.81754089062497 253.9061753774546 Z"/></g></g><g><rect fill="rgb(237,204,210)" stroke="none" x="491.76757655754295" y="262.0737770274546" width="137.63368458703124" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="492.89847524754293" y="268.8591691674546" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">createAwardOperationLog(uuid, rollbackData)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 428.53477039062494 271.8748990074546 L 686.4266900574921 271.8748990074546" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray=""/><g transform="translate(692.6340673114921,271.8748990074546) translate(-692.6340673114921,-271.8748990074546)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 686.3512968114921 268.7335137574546 L 692.6340673114921 271.8748990074546 L 686.3512968114921 275.0162842574546 Z"/></g></g><g><rect fill="rgb(237,204,210)" stroke="none" x="437.4563045006249" y="283.18388590745457" width="155.78279347375" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="438.5872031906249" y="289.96927804745457" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">addDundieAwardToEmployees(uuid, organizationId)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 428.53477039062494 292.98500788745457 L 595.9532548303749 292.98500788745457" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray=""/><g transform="translate(602.1606320843749,292.98500788745457) translate(-602.1606320843749,-292.98500788745457)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 595.877861584375 289.8436226374546 L 602.1606320843749 292.98500788745457 L 595.877861584375 296.12639313745456 Z"/></g></g><g><rect fill="rgb(237,204,210)" stroke="none" x="617.7133355526445" y="304.29399478745455" width="154.65434498742187" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="618.8442342426445" y="311.07938692745455" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">increaseAwardsToEmployeesNative(organizationId)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 602.1606320843749 314.09511676745456 L 781.7130067543359 314.09511676745456" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray=""/><g transform="translate(787.9203840083359,314.09511676745456) translate(-787.9203840083359,-314.09511676745456)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 781.6376135083359 310.95373151745457 L 787.9203840083359 314.09511676745456 L 781.6376135083359 317.23650201745454 Z"/></g></g><g><rect fill="rgb(237,204,210)" stroke="none" x="575.8129794738359" y="325.40410366745454" width="64.82919545128907" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="576.9438781638358" y="332.18949580745453" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">totalUpdatedRecords</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 787.9203840083359 335.20522564745454 L 434.74214764462494 335.20522564745454" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray=""/><g transform="translate(428.53477039062494,335.20522564745454) translate(-428.53477039062494,-335.20522564745454)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 434.81754089062497 332.06384039745456 L 428.53477039062494 335.20522564745454 L 434.81754089062497 338.3466108974545 Z"/></g></g><g><rect fill="rgb(237,204,210)" stroke="none" x="315.7331069914453" y="346.5142125474545" width="80.37669606164063" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="316.8640056814453" y="353.2996046874545" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">block(uuid, organizationId)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 428.53477039062494 356.3153345274545 L 289.5155169079062 356.3153345274545" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray=""/><g transform="translate(283.3081396539062,356.3153345274545) translate(-283.3081396539062,-356.3153345274545)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 289.59091015390624 353.17394927745454 L 283.3081396539062 356.3153345274545 L 289.59091015390624 359.4567197774545 Z"/></g></g><g><rect fill="rgb(237,204,210)" stroke="none" x="513.6739305471601" y="367.6243214274545" width="133.30209584191405" height="9.801121980000001"/><rect fill="rgb(237,204,210)" stroke="none" x="513.6739305471601" y="375.1636460274545" width="27.4416069503125" height="9.801121980000001"/><rect fill="rgb(237,204,210)" stroke="none" x="513.6739305471601" y="382.7029706274545" width="76.67924733117188" height="9.801121980000001"/><rect fill="rgb(237,204,210)" stroke="none" x="513.6739305471601" y="390.24229522745446" width="92.22030873253907" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="514.8048292371601" y="374.4097135674545" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">blockOrganizationById(UUID,organizationId)</text><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="514.8048292371601" y="381.9490381674545" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Change:</text><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="514.8048292371601" y="389.4883627674545" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">organization.blocked:true</text><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="514.8048292371601" y="397.02768736745446" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">organization.blocked_by:UUID</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 283.3081396539062 400.0434172074545 L 871.1344400283281 400.0434172074545" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray=""/><g transform="translate(877.3418172823281,400.0434172074545) translate(-877.3418172823281,-400.0434172074545)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 871.0590467823281 396.90203195745454 L 877.3418172823281 400.0434172074545 L 871.0590467823281 403.1848024574545 Z"/></g></g><g><rect fill="rgb(237,204,210)" stroke="none" x="649.324298459498" y="411.3524041074545" width="84.92943043664063" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="650.455197149498" y="418.1377962474545" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">increseAwards(totalAwards)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 428.53477039062494 421.1535260874545 L 948.8358797110117 421.1535260874545" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray=""/><g transform="translate(955.0432569650117,421.1535260874545) translate(-955.0432569650117,-421.1535260874545)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 948.7604864650117 418.0121408374545 L 955.0432569650117 421.1535260874545 L 948.7604864650117 424.2949113374545 Z"/></g></g><g><rect fill="rgb(237,204,210)" stroke="none" x="563.3824157617772" y="432.4625129874545" width="323.03688282921877" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="564.5133144517772" y="439.2479051274545" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">publish(AWARD_ORGANIZATION_SUCCESS_EVENT[UUID, instant, totalAffectedEmployees, totalAwards])</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 428.53477039062494 442.2636349674545 L 1015.0595819669375 442.2636349674545" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray=""/><g transform="translate(1021.2669592209375,442.2636349674545) translate(-1021.2669592209375,-442.2636349674545)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1014.9841887209375 439.1222497174545 L 1021.2669592209375 442.2636349674545 L 1014.9841887209375 445.4050202174545 Z"/></g></g><g><rect fill="rgb(237,204,210)" stroke="none" x="241.82715093705073" y="453.5726218674545" width="107.02313466027344" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="242.95804962705074" y="460.35801400745447" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Success (log totalUpdatedRecords)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 428.53477039062494 463.3737438474545 L 168.35004339774997 463.3737438474545" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray=""/><g transform="translate(162.14266614374998,463.3737438474545) translate(-162.14266614374998,-463.3737438474545)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 168.42543664374998 460.2323585974545 L 162.14266614374998 463.3737438474545 L 168.42543664374998 466.51512909745446 Z"/></g></g><g><rect fill="rgb(237,204,210)" stroke="none" x="64.01538018597655" y="474.6827307474545" width="27.435106706171876" height="9.801121980000001"/><rect fill="rgb(237,204,210)" stroke="none" x="64.01538018597655" y="482.2220553474545" width="68.03886647179688" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="65.14627887597655" y="481.4681228874545" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Ok 200: </text><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="65.14627887597655" y="489.0074474874545" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Awarded Organization</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 162.14266614374998 492.0231773274545 L 40.134337954 492.0231773274545" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray=""/><g transform="translate(33.9269607,492.0231773274545) translate(-33.9269607,-492.0231773274545)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 40.2097312 488.8817920774545 L 33.9269607 492.0231773274545 L 40.2097312 495.1645625774545 Z"/></g></g><g><rect fill="rgb(237,204,210)" stroke="none" x="45.25817803753905" y="523.6883406474544" width="33.72433705285156" height="9.801121980000001"/><rect fill="rgb(237,204,210)" stroke="none" x="45.25817803753905" y="531.2276652474544" width="83.33923573449219" height="9.801121980000001"/><rect fill="rgb(237,204,210)" stroke="none" x="45.25817803753905" y="538.7669898474544" width="105.55327076867188" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="46.38907672753905" y="530.4737327874544" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Error 400: </text><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="46.38907672753905" y="538.0130573874544" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">The organization is blocked</text><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="46.38907672753905" y="545.5523819874544" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> and cannot perform this operation.</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 162.14266614374998 548.5681118274545 L 40.134337954 548.5681118274545" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray=""/><g transform="translate(33.9269607,548.5681118274545) translate(-33.9269607,-548.5681118274545)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 40.2097312 545.4267265774545 L 33.9269607 548.5681118274545 L 40.2097312 551.7094970774544 Z"/></g></g><g><rect fill="rgb(237,204,210)" stroke="none" x="58.94722680462889" y="580.2332751474544" width="33.72433705285156" height="9.801121980000001"/><rect fill="rgb(237,204,210)" stroke="none" x="58.94722680462889" y="587.7725997474544" width="64.45196766808594" height="9.801121980000001"/><rect fill="rgb(237,204,210)" stroke="none" x="58.94722680462889" y="595.3119243474544" width="78.17517323449219" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="60.07812549462889" y="587.0186672874544" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Error 404: </text><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="60.07812549462889" y="594.5579918874544" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Organization with id: </text><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="60.07812549462889" y="602.0973164874543" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">{organizationId} not found</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 162.14266614374998 605.1130463274544 L 40.134337954 605.1130463274544" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray=""/><g transform="translate(33.9269607,605.1130463274544) translate(-33.9269607,-605.1130463274544)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 40.2097312 601.9716610774544 L 33.9269607 605.1130463274544 L 40.2097312 608.2544315774544 Z"/></g></g><g><rect fill="white" stroke="none" x="1032.8908630208787" y="627.7310201274545" width="365.23732228234377" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1034.0217617108788" y="634.5164122674545" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">process(AWARD_ORGANIZATION_SUCCESS_EVENT[UUID, instant, totalAffectedEmployees, totalAwards, organization])</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1021.2669592209375 637.5321421074544 L 1403.5447423667422 637.5321421074544" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray="3.01572984"/><g transform="translate(1409.7521196207422,637.5321421074544) translate(-1409.7521196207422,-637.5321421074544)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1403.4693491207422 634.3907568574544 L 1409.7521196207422 637.5321421074544 L 1403.4693491207422 640.6735273574544 Z"/></g></g><g><rect fill="white" stroke="none" x="1454.63527787625" y="648.8411290074545" width="265.422197770625" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1455.7661765662501" y="655.6265211474545" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">handleAwardOrganizationSuccessEvent(AWARD_ORGANIZATION_SUCCESS_EVENT)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1409.7521196207422 658.6422509874544 L 1758.7332566483828 658.6422509874544" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray=""/><g transform="translate(1764.9406339023828,658.6422509874544) translate(-1764.9406339023828,-658.6422509874544)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1758.6578634023829 655.5008657374544 L 1764.9406339023828 658.6422509874544 L 1758.6578634023829 661.7836362374544 Z"/></g></g><g><rect fill="white" stroke="none" x="1773.8621680123827" y="669.9512378874545" width="92.57472462609375" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1774.9930667023827" y="676.7366300274545" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">processActivityCreation(event)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1764.9406339023828 679.7523598674545 L 1795.0979323023828 679.7523598674545 L 1795.0979323023828 689.5534818474545 L 1771.1480111563828 689.5534818474545" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray=""/><g transform="translate(1764.9406339023828,689.5534818474545) translate(-1764.9406339023828,-689.5534818474545)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1771.2234044023828 686.4120965974545 L 1764.9406339023828 689.5534818474545 L 1771.2234044023828 692.6948670974544 Z"/></g></g><g><rect fill="white" stroke="none" x="1773.8621680123827" y="741.5748215874545" width="117.49119801476563" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1774.9930667023827" y="748.3602137274545" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">await(attempt * ENV{timeToWaitRetry})</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1764.9406339023828 751.3759435674546 L 1795.0979323023828 751.3759435674546 L 1795.0979323023828 761.1770655474545 L 1771.1480111563828 761.1770655474545" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray=""/><g transform="translate(1764.9406339023828,761.1770655474545) translate(-1764.9406339023828,-761.1770655474545)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1771.2234044023828 758.0356802974545 L 1764.9406339023828 761.1770655474545 L 1771.2234044023828 764.3184507974545 Z"/></g></g><g><rect fill="white" stroke="none" x="1782.135150438164" y="813.1984052874545" width="94.66246266320313" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1783.266049128164" y="819.9837974274545" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">activityRepository.save(activity)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1764.9406339023828 822.9995272674545 L 1887.7847523831485 822.9995272674545" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray=""/><g transform="translate(1893.9921296371485,822.9995272674545) translate(-1893.9921296371485,-822.9995272674545)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1887.7093591371486 819.8581420174545 L 1893.9921296371485 822.9995272674545 L 1887.7093591371486 826.1409125174545 Z"/></g></g><g><rect fill="white" stroke="none" x="1184.2234914066835" y="834.3085141674545" width="89.12771840050782" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1185.3543900966836" y="841.0939063074545" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">cleanAwardBatchLogs(UUID)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1764.9406339023828 844.1096361474545 L 698.8414445654921 844.1096361474545" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray=""/><g transform="translate(692.6340673114921,844.1096361474545) translate(-692.6340673114921,-844.1096361474545)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 698.9168378114921 840.9682508974545 L 692.6340673114921 844.1096361474545 L 698.9168378114921 847.2510213974545 Z"/></g></g><g><rect fill="white" stroke="none" x="983.009235158457" y="855.4186230474545" width="82.230303239375" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="984.140133848457" y="862.2040151874545" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">unblock(uuid, organization)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1764.9406339023828 865.2197450274545 L 289.5155169079062 865.2197450274545" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray=""/><g transform="translate(283.3081396539062,865.2197450274545) translate(-283.3081396539062,-865.2197450274545)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 289.59091015390624 862.0783597774545 L 283.3081396539062 865.2197450274545 L 289.59091015390624 868.3611302774544 Z"/></g></g><g><rect fill="white" stroke="none" x="1256.3002294146288" y="876.5287319274545" width="273.6071342940625" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1257.431128104629" y="883.3141240674545" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">publishSaveActivityAwardOrganizationSuccessEvent(uuid,activity,totalAwards, organization)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1764.9406339023828 886.3298539074544 L 1027.4743364749374 886.3298539074544" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray=""/><g transform="translate(1021.2669592209375,886.3298539074544) translate(-1021.2669592209375,-886.3298539074544)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1027.5497297209374 883.1884686574545 L 1021.2669592209375 886.3298539074544 L 1027.5497297209374 889.4712391574544 Z"/></g></g><g><rect fill="white" stroke="none" x="1773.8621680123827" y="929.3040041274545" width="50.38405079796875" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1774.9930667023827" y="936.0893962674545" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">increaseAttempt</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1764.9406339023828 939.1051261074546 L 1795.0979323023828 939.1051261074546 L 1795.0979323023828 948.9062480874545 L 1771.1480111563828 948.9062480874545" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray=""/><g transform="translate(1764.9406339023828,948.9062480874545) translate(-1764.9406339023828,-948.9062480874545)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1771.2234044023828 945.7648628374545 L 1764.9406339023828 948.9062480874545 L 1771.2234044023828 952.0476333374545 Z"/></g></g><g><rect fill="white" stroke="none" x="1246.123257979082" y="960.2152349874546" width="293.96107716515627" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1247.254156669082" y="967.0006271274545" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">publishSaveActivityAwardOrganizationRetryEvent(uuid, totalAwards, attempt, activity, organization)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1764.9406339023828 970.0163569674545 L 1027.4743364749374 970.0163569674545" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray=""/><g transform="translate(1021.2669592209375,970.0163569674545) translate(-1021.2669592209375,-970.0163569674545)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1027.5497297209374 966.8749717174545 L 1021.2669592209375 970.0163569674545 L 1027.5497297209374 973.1577422174545 Z"/></g></g><g><rect fill="white" stroke="none" x="1256.8563054644335" y="1001.6815202874545" width="272.49498219445314" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1257.9872041544336" y="1008.4669124274545" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">publishSaveActivityAwardOrganizationFailureEvent(uuid, totalAwards, activity, organization)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1764.9406339023828 1011.4826422674545 L 1027.4743364749374 1011.4826422674545" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray=""/><g transform="translate(1021.2669592209375,1011.4826422674545) translate(-1021.2669592209375,-1011.4826422674545)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1027.5497297209374 1008.3412570174545 L 1021.2669592209375 1011.4826422674545 L 1027.5497297209374 1014.6240275174545 Z"/></g></g><g><rect fill="white" stroke="none" x="1035.9802032308396" y="1056.7185898674545" width="359.05861134484377" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1037.1111019208397" y="1063.5039820074546" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">process(SAVE_ACTIVITY_AWARD_ORGANIZATION_RETRY_EVENT[uuid, totalAwards, attempt, activity, organization])</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1021.2669592209375 1066.5197118474546 L 1403.5447423667422 1066.5197118474546" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray="3.01572984"/><g transform="translate(1409.7521196207422,1066.5197118474546) translate(-1409.7521196207422,-1066.5197118474546)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1403.4693491207422 1063.3783265974546 L 1409.7521196207422 1066.5197118474546 L 1403.4693491207422 1069.6610970974546 Z"/></g></g><g><rect fill="white" stroke="none" x="1418.6736537307422" y="1077.8286987474546" width="337.34544606164064" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1419.8045524207423" y="1084.6140908874547" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">handleSaveActivityAwardOrganizationRetryEvent(SAVE_ACTIVITY_AWARD_ORGANIZATION_RETRY_EVENT)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1409.7521196207422 1087.6298207274547 L 1758.7332566483828 1087.6298207274547" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray=""/><g transform="translate(1764.9406339023828,1087.6298207274547) translate(-1764.9406339023828,-1087.6298207274547)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1758.6578634023829 1084.4884354774547 L 1764.9406339023828 1087.6298207274547 L 1758.6578634023829 1090.7712059774547 Z"/></g></g><path fill="none" stroke="none"/><g><g/><path fill="#D4E4F0" stroke="black" paint-order="fill stroke markers" d=" M 1014.4815670809375 1098.9388076274547 L 1771.7260260423827 1098.9388076274547 L 1771.7260260423827 1125.3264437274547 L 1014.4815670809375 1125.3264437274547 L 1014.4815670809375 1098.9388076274547 Z" stroke-miterlimit="10" stroke-width="1.0770463714285714" stroke-dasharray=""/><path fill="#D4E4F0" stroke="black" paint-order="fill stroke markers" d=" M 1014.4815670809375 1098.9388076274547 L 1014.4815670809375 1107.9859971474548 L 1036.3736318082813 1107.9859971474548 L 1040.8972265682812 1103.4624023874546 L 1040.8972265682812 1098.9388076274547 L 1014.4815670809375 1098.9388076274547" stroke-miterlimit="10" stroke-width="1.0770463714285714" stroke-dasharray=""/><text fill="black" stroke="none" font-family="sans-serif" font-size="4pt" font-style="normal" font-weight="bold" text-decoration="normal" x="1022.0208916809374" y="1104.9702673074548" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">ref</text></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1343.1295686563867" y="1118.0025284017406" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Repeatable Save Activity Process</text></g><g><rect fill="white" stroke="none" x="1030.1884933309373" y="1136.6354306274548" width="370.6420464034375" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1031.3193920209374" y="1143.4208227674549" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">process(SAVE_ACTIVITY_AWARD_ORGANIZATION_SUCCESS_EVENT[UUID, instant, Activity, totalAwards, organization])</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1021.2669592209375 1146.4365526074548 L 1403.5447423667422 1146.4365526074548" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray="3.01572984"/><g transform="translate(1409.7521196207422,1146.4365526074548) translate(-1409.7521196207422,-1146.4365526074548)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1403.4693491207422 1143.2951673574548 L 1409.7521196207422 1146.4365526074548 L 1403.4693491207422 1149.5779378574548 Z"/></g></g><g><rect fill="white" stroke="none" x="740.9685552268164" y="1157.7455395074549" width="356.3497795577344" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="742.0994539168164" y="1164.530931647455" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">handleSaveActivityAwardOrganizationSuccessEvent(SAVE_ACTIVITY_AWARD_ORGANIZATION_SUCCESS_EVENT)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1409.7521196207422 1167.546661487455 L 434.74214764462494 1167.546661487455" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray=""/><g transform="translate(428.53477039062494,1167.546661487455) translate(-428.53477039062494,-1167.546661487455)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 434.81754089062497 1164.405276237455 L 428.53477039062494 1167.546661487455 L 434.81754089062497 1170.688046737455 Z"/></g></g><g><rect fill="white" stroke="none" x="654.503009396998" y="1178.855648387455" width="74.57200856164063" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="655.633908086998" y="1185.641040527455" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">addAwards(totalAwards)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 428.53477039062494 1188.656770367455 L 948.8358797110117 1188.656770367455" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray=""/><g transform="translate(955.0432569650117,1188.656770367455) translate(-955.0432569650117,-1188.656770367455)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 948.7604864650117 1185.515385117455 L 955.0432569650117 1188.656770367455 L 948.7604864650117 1191.798155617455 Z"/></g></g><g><rect fill="white" stroke="none" x="1105.3896880941209" y="1199.965757267455" width="220.2397026534375" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1106.520586784121" y="1206.7511494074552" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">process(SAVE_ACTIVITY_AWARD_ORGANIZATION_FAILURE_EVENT)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1021.2669592209375 1209.766879247455 L 1403.5447423667422 1209.766879247455" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray="3.01572984"/><g transform="translate(1409.7521196207422,1209.766879247455) translate(-1409.7521196207422,-1209.766879247455)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1403.4693491207422 1206.6254939974551 L 1409.7521196207422 1209.766879247455 L 1403.4693491207422 1212.908264497455 Z"/></g></g><g><rect fill="white" stroke="none" x="754.1096532492774" y="1221.0758661474551" width="330.0675835128125" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="755.2405519392773" y="1227.8612582874553" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">handleSaveActivityAwardOrganizationFailure(SAVE_ACTIVITY_AWARD_ORGANIZATION_FAILURE_EVENT)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1409.7521196207422 1230.8769881274552 L 434.74214764462494 1230.8769881274552" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray=""/><g transform="translate(428.53477039062494,1230.8769881274552) translate(-428.53477039062494,-1230.8769881274552)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 434.81754089062497 1227.7356028774552 L 428.53477039062494 1230.8769881274552 L 434.81754089062497 1234.0183733774552 Z"/></g></g><g><rect fill="white" stroke="none" x="437.456304500625" y="1303.2545042874556" width="117.49119801476563" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="438.58720319062496" y="1310.0398964274557" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">await(attempt * ENV{timeToWaitRetry})</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 428.53477039062494 1313.0556262674554 L 458.69206879062494 1313.0556262674554 L 458.69206879062494 1322.8567482474555 L 434.74214764462494 1322.8567482474555" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray=""/><g transform="translate(428.53477039062494,1322.8567482474555) translate(-428.53477039062494,-1322.8567482474555)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 434.81754089062497 1319.7153629974555 L 428.53477039062494 1322.8567482474555 L 434.81754089062497 1325.9981334974555 Z"/></g></g><g><rect fill="white" stroke="none" x="519.3521712841055" y="1354.5219115674556" width="82.46449513390625" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="520.4830699741054" y="1361.3073037074557" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">getAwardBatchLogs(UUID)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 428.53477039062494 1364.3230335474557 L 686.4266900574921 1364.3230335474557" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray=""/><g transform="translate(692.6340673114921,1364.3230335474557) translate(-692.6340673114921,-1364.3230335474557)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 686.3512968114921 1361.1816482974557 L 692.6340673114921 1364.3230335474557 L 686.3512968114921 1367.4644187974557 Z"/></g></g><g><rect fill="white" stroke="none" x="1218.414984658914" y="1375.6320204474557" width="51.87669606164062" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1219.545883348914" y="1382.4174125874558" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">List&lt;BatchLogs&gt;</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2060.1718949888436 1385.4331424274558 L 434.74214764462494 1385.4331424274558" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray=""/><g transform="translate(428.53477039062494,1385.4331424274558) translate(-428.53477039062494,-1385.4331424274558)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 434.81754089062497 1382.2917571774558 L 428.53477039062494 1385.4331424274558 L 434.81754089062497 1388.5745276774558 Z"/></g></g><g><rect fill="white" stroke="none" x="452.82823748402336" y="1417.098305747456" width="125.03892750695313" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="453.95913617402334" y="1423.883697887456" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">removeDundieAwardToEmployees(batch)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 428.53477039062494 1426.899427727456 L 595.9532548303749 1426.899427727456" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray=""/><g transform="translate(602.1606320843749,1426.899427727456) translate(-602.1606320843749,-1426.899427727456)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 595.877861584375 1423.758042477456 L 602.1606320843749 1426.899427727456 L 595.877861584375 1430.040812977456 Z"/></g></g><g><rect fill="white" stroke="none" x="631.592623272371" y="1438.208414627456" width="126.89576954796875" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="632.723521962371" y="1444.9938067674561" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">decreaseAwardsToEmployees(List&lt;long&gt;)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 602.1606320843749 1448.009536607456 L 781.7130067543359 1448.009536607456" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray=""/><g transform="translate(787.9203840083359,1448.009536607456) translate(-787.9203840083359,-1448.009536607456)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 781.6376135083359 1444.868151357456 L 787.9203840083359 1448.009536607456 L 781.6376135083359 1451.150921857456 Z"/></g></g><g><rect fill="white" stroke="none" x="543.7634277246678" y="1481.9364973074562" width="362.2748589034375" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="544.8943264146678" y="1488.7218894474563" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">publish(AWARD_ORGANIZATION_ROLLBACK_SUCCESS_EVENT[UUID, instant, totalAffectedEmployees, totalAwards])</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 428.53477039062494 1491.7376192874563 L 1015.0595819669375 1491.7376192874563" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray=""/><g transform="translate(1021.2669592209375,1491.7376192874563) translate(-1021.2669592209375,-1491.7376192874563)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1014.9841887209375 1488.5962340374563 L 1021.2669592209375 1491.7376192874563 L 1014.9841887209375 1494.8790045374562 Z"/></g></g><g><rect fill="white" stroke="none" x="437.456304500625" y="1523.4027826074564" width="50.38405079796875" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="438.58720319062496" y="1530.1881747474565" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">increaseAttempt</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 428.53477039062494 1533.2039045874562 L 458.69206879062494 1533.2039045874562 L 458.69206879062494 1543.0050265674563 L 434.74214764462494 1543.0050265674563" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray=""/><g transform="translate(428.53477039062494,1543.0050265674563) translate(-428.53477039062494,-1543.0050265674563)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 434.81754089062497 1539.8636413174563 L 428.53477039062494 1543.0050265674563 L 434.81754089062497 1546.1464118174563 Z"/></g></g><g><rect fill="white" stroke="none" x="591.6434097192968" y="1554.3140134674563" width="266.51491017296877" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="592.7743084092967" y="1561.0994056074564" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">publish(AWARD_ORGANIZATION_ROLLBACK_RETRY_EVENT[UUID, instant, attempt])</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 428.53477039062494 1564.1151354474564 L 1015.0595819669375 1564.1151354474564" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray=""/><g transform="translate(1021.2669592209375,1564.1151354474564) translate(-1021.2669592209375,-1564.1151354474564)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1014.9841887209375 1560.9737501974564 L 1021.2669592209375 1564.1151354474564 L 1014.9841887209375 1567.2565206974564 Z"/></g></g><g><rect fill="white" stroke="none" x="601.9455795191014" y="1595.7802987674565" width="245.91057057335937" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="603.0764782091014" y="1602.5656909074567" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">publish(AWARD_ORGANIZATION_ROLLBACK_FAILURE_EVENT[UUID, instant])</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 428.53477039062494 1605.5814207474566 L 1015.0595819669375 1605.5814207474566" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray=""/><g transform="translate(1021.2669592209375,1605.5814207474566) translate(-1021.2669592209375,-1605.5814207474566)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1014.9841887209375 1602.4400354974566 L 1021.2669592209375 1605.5814207474566 L 1014.9841887209375 1608.7228059974566 Z"/></g></g><g><rect fill="white" stroke="none" x="1081.1447997884568" y="1650.8173683474567" width="268.72947926476564" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1082.275698478457" y="1657.6027604874569" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">process(AWARD_ORGANIZATION_ROLLBACK_RETRY_EVENT[UUID, instant, attempt])</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1021.2669592209375 1660.6184903274568 L 1403.5447423667422 1660.6184903274568" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray="3.01572984"/><g transform="translate(1409.7521196207422,1660.6184903274568) translate(-1409.7521196207422,-1660.6184903274568)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1403.4693491207422 1657.4771050774568 L 1409.7521196207422 1660.6184903274568 L 1403.4693491207422 1663.7598755774568 Z"/></g></g><g><rect fill="white" stroke="none" x="772.0603673606055" y="1671.9274772274568" width="294.16615529015627" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="773.1912660506055" y="1678.712869367457" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">handleAwardOrganizationRollbackRetry(AWARD_ORGANIZATION_ROLLBACK_RETRY_EVENT)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1409.7521196207422 1681.728599207457 L 434.74214764462494 1681.728599207457" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray=""/><g transform="translate(428.53477039062494,1681.728599207457) translate(-428.53477039062494,-1681.728599207457)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 434.81754089062497 1678.587213957457 L 428.53477039062494 1681.728599207457 L 434.81754089062497 1684.869984457457 Z"/></g></g><path fill="none" stroke="none"/><g><g/><path fill="#D6D5E5" stroke="black" paint-order="fill stroke markers" d=" M 421.74937825062494 1693.037586107457 L 1028.0523513609373 1693.037586107457 L 1028.0523513609373 1719.425222207457 L 421.74937825062494 1719.425222207457 L 421.74937825062494 1693.037586107457 Z" stroke-miterlimit="10" stroke-width="1.0770463714285714" stroke-dasharray=""/><path fill="#D6D5E5" stroke="black" paint-order="fill stroke markers" d=" M 421.74937825062494 1693.037586107457 L 421.74937825062494 1702.084775627457 L 443.6414429779687 1702.084775627457 L 448.1650377379687 1697.5611808674569 L 448.1650377379687 1693.037586107457 L 421.74937825062494 1693.037586107457" stroke-miterlimit="10" stroke-width="1.0770463714285714" stroke-dasharray=""/><text fill="black" stroke="none" font-family="sans-serif" font-size="4pt" font-style="normal" font-weight="bold" text-decoration="normal" x="429.28870285062493" y="1699.069045787457" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">ref</text></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="681.2175151964061" y="1712.1013068817429" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Repeatable Rollback Process</text></g><g><rect fill="white" stroke="none" x="1110.8789687948045" y="1730.734209107457" width="209.2611412520703" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1112.0098674848045" y="1737.519601247457" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">process(AWARD_ORGANIZATION_ROLLBACK_SUCCESS_EVENT)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1021.2669592209375 1740.535331087457 L 1403.5447423667422 1740.535331087457" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray="3.01572984"/><g transform="translate(1409.7521196207422,1740.535331087457) translate(-1409.7521196207422,-1740.535331087457)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1403.4693491207422 1737.393945837457 L 1409.7521196207422 1740.535331087457 L 1403.4693491207422 1743.676716337457 Z"/></g></g><g><rect fill="white" stroke="none" x="762.1891057639258" y="1751.844317987457" width="313.90867848351564" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="763.3200044539258" y="1758.6297101274572" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">handleAwardOrganizationRollBackSuccess(AWARD_ORGANIZATION_ROLLBACK_SUCCESS_EVENT)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1409.7521196207422 1761.6454399674572 L 434.74214764462494 1761.6454399674572" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray=""/><g transform="translate(428.53477039062494,1761.6454399674572) translate(-428.53477039062494,-1761.6454399674572)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 434.81754089062497 1758.5040547174572 L 428.53477039062494 1761.6454399674572 L 434.81754089062497 1764.7868252174571 Z"/></g></g><g><rect fill="white" stroke="none" x="292.22967376390625" y="1772.9544268674572" width="127.38356251671875" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="293.36057245390623" y="1779.7398190074573" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">unblockOrganization(UUID,organizationId)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 428.53477039062494 1782.7555488474572 L 289.5155169079062 1782.7555488474572" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray=""/><g transform="translate(283.3081396539062,1782.7555488474572) translate(-283.3081396539062,-1782.7555488474572)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 289.59091015390624 1779.6141635974573 L 283.3081396539062 1782.7555488474572 L 289.59091015390624 1785.8969340974572 Z"/></g></g><g><rect fill="white" stroke="none" x="646.3601489844003" y="1794.0645357474573" width="90.85772938683594" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="647.4910476744003" y="1800.8499278874574" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">decreaseAwards(totalAwards)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 428.53477039062494 1803.8656577274573 L 948.8358797110117 1803.8656577274573" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray=""/><g transform="translate(955.0432569650117,1803.8656577274573) translate(-955.0432569650117,-1803.8656577274573)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 948.7604864650117 1800.7242724774574 L 955.0432569650117 1803.8656577274573 L 948.7604864650117 1807.0070429774573 Z"/></g></g><g><rect fill="white" stroke="none" x="1091.4469695882615" y="1815.1746446274574" width="248.12513966515624" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1092.5778682782616" y="1821.9600367674575" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">process(AWARD_ORGANIZATION_ROLLBACK_FAILURE_EVENT[UUID, instant])</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1021.2669592209375 1824.9757666074574 L 1403.5447423667422 1824.9757666074574" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray="3.01572984"/><g transform="translate(1409.7521196207422,1824.9757666074574) translate(-1409.7521196207422,-1824.9757666074574)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1403.4693491207422 1821.8343813574575 L 1409.7521196207422 1824.9757666074574 L 1403.4693491207422 1828.1171518574574 Z"/></g></g><g><rect fill="white" stroke="none" x="767.1840856223242" y="1836.2847535074575" width="303.91871876671877" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="768.3149843123242" y="1843.0701456474576" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">handleAwardOrganizationRollbackFailure(AWARD_ORGANIZATION_ROLLBACK_FAILURE_EVENT)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1409.7521196207422 1846.0858754874575 L 434.74214764462494 1846.0858754874575" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray=""/><g transform="translate(428.53477039062494,1846.0858754874575) translate(-428.53477039062494,-1846.0858754874575)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 434.81754089062497 1842.9444902374576 L 428.53477039062494 1846.0858754874575 L 434.81754089062497 1849.2272607374575 Z"/></g></g><g><rect fill="white" stroke="none" x="1164.9606156781679" y="1857.3948623874576" width="76.27926869347657" height="9.801121980000001"/><text fill="black" stroke="none" font-family="sans-serif" font-size="5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1166.091514368168" y="1864.1802545274577" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">logFailureProcess(UUID)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 428.53477039062494 1867.1959843674576 L 1971.4583524051875 1867.1959843674576" stroke-miterlimit="10" stroke-width="0.62827705" stroke-dasharray=""/><g transform="translate(1977.6657296591875,1867.1959843674576) translate(-1977.6657296591875,-1867.1959843674576)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1971.3829591591875 1864.0545991174577 L 1977.6657296591875 1867.1959843674576 L 1971.3829591591875 1870.3373696174576 Z"/></g></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 7.5393246000000005 80.37605416745454 L 1047.6545953209375 80.37605416745454 L 1047.6545953209375 616.4220332274544 L 7.5393246000000005 616.4220332274544 L 7.5393246000000005 80.37605416745454 Z" stroke-miterlimit="10" stroke-width="1.0770463714285714" stroke-dasharray=""/><path fill="#a3001f" stroke="black" paint-order="fill stroke markers" d=" M 7.5393246000000005 80.37605416745454 L 7.5393246000000005 89.42324368745454 L 28.83800553828125 89.42324368745454 L 33.36160029828125 84.89964892745454 L 33.36160029828125 80.37605416745454 L 7.5393246000000005 80.37605416745454" stroke-miterlimit="10" stroke-width="1.0770463714285714" stroke-dasharray=""/><text fill="black" stroke="none" font-family="sans-serif" font-size="4pt" font-style="normal" font-weight="bold" text-decoration="normal" x="15.078649200000001" y="86.40751384745454" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">alt</text><g><rect fill="rgb(237,204,210)" stroke="none" x="39.77002620828125" y="80.97920013545453" width="57.937685441523435" height="7.840897584000002"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="4pt" font-style="normal" font-weight="bold" text-decoration="normal" x="40.900924898281254" y="86.40751384745454" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Organization is valid]</text><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 7.5393246000000005 503.3321642274545 L 1047.6545953209375 503.3321642274545" stroke-miterlimit="10" stroke-width="1.0770463714285714" stroke-dasharray="1.8848311500000001"/></g><g/><g><rect fill="rgb(237,204,210)" stroke="none" x="39.77002620828125" y="503.9353101954545" width="65.93266529992188" height="7.840897584000002"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="4pt" font-style="normal" font-weight="bold" text-decoration="normal" x="40.900924898281254" y="509.3636239074545" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Organization is blocked]</text><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 7.5393246000000005 559.8770987274545 L 1047.6545953209375 559.8770987274545" stroke-miterlimit="10" stroke-width="1.0770463714285714" stroke-dasharray="1.8848311500000001"/></g><g/><g><rect fill="rgb(237,204,210)" stroke="none" x="39.77002620828125" y="560.4802446954545" width="65.93266529992188" height="7.840897584000002"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="4pt" font-style="normal" font-weight="bold" text-decoration="normal" x="40.900924898281254" y="565.9085584074545" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Organization is blocked]</text></g><g/><g/><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 234.3025297539062 700.8624687474545 L 1942.9977395371486 700.8624687474545 L 1942.9977395371486 1045.4096029674545 L 234.3025297539062 1045.4096029674545 L 234.3025297539062 700.8624687474545 Z" stroke-miterlimit="10" stroke-width="1.0770463714285714" stroke-dasharray=""/><path fill="#1f77b4" stroke="black" paint-order="fill stroke markers" d=" M 234.3025297539062 700.8624687474545 L 234.3025297539062 709.9096582674545 L 324.32359228398434 709.9096582674545 L 328.8471870439843 705.3860635074545 L 328.8471870439843 700.8624687474545 L 234.3025297539062 700.8624687474545" stroke-miterlimit="10" stroke-width="1.0770463714285714" stroke-dasharray=""/><text fill="white" stroke="none" font-family="sans-serif" font-size="4pt" font-style="normal" font-weight="bold" text-decoration="normal" x="241.84185435390623" y="706.8939284274545" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">repeatableSaveActivity(UUID)</text></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 241.8418543539062 721.2186451674545 L 1935.4584149371485 721.2186451674545 L 1935.4584149371485 1034.1006160674544 L 241.8418543539062 1034.1006160674544 L 241.8418543539062 721.2186451674545 Z" stroke-miterlimit="10" stroke-width="1.0770463714285714" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 241.8418543539062 721.2186451674545 L 241.8418543539062 730.2658346874545 L 268.1686419816406 730.2658346874545 L 272.69223674164056 725.7422399274545 L 272.69223674164056 721.2186451674545 L 241.8418543539062 721.2186451674545" stroke-miterlimit="10" stroke-width="1.0770463714285714" stroke-dasharray=""/><text fill="black" stroke="none" font-family="sans-serif" font-size="4pt" font-style="normal" font-weight="bold" text-decoration="normal" x="249.38117895390621" y="727.2501048474545" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">loop</text><g><rect fill="white" stroke="none" x="279.10066265164056" y="721.8217911354545" width="159.55340809777343" height="7.840897584000002"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="4pt" font-style="normal" font-weight="bold" text-decoration="normal" x="280.23156134164054" y="727.2501048474545" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Retry until success or ENV{retrySaveActivitiesMaxAttempts}]</text></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 249.38117895390621 772.4860524474545 L 1927.9190903371486 772.4860524474545 L 1927.9190903371486 1022.7916291674545 L 249.38117895390621 1022.7916291674545 L 249.38117895390621 772.4860524474545 Z" stroke-miterlimit="10" stroke-width="1.0770463714285714" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 249.38117895390621 772.4860524474545 L 249.38117895390621 781.5332419674545 L 270.67985989218744 781.5332419674545 L 275.2034546521874 777.0096472074546 L 275.2034546521874 772.4860524474545 L 249.38117895390621 772.4860524474545" stroke-miterlimit="10" stroke-width="1.0770463714285714" stroke-dasharray=""/><text fill="black" stroke="none" font-family="sans-serif" font-size="4pt" font-style="normal" font-weight="bold" text-decoration="normal" x="256.9205035539062" y="778.5175121274546" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">alt</text><g><rect fill="white" stroke="none" x="281.6118805621874" y="773.0891984154546" width="60.925356339960935" height="7.840897584000002"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="4pt" font-style="normal" font-weight="bold" text-decoration="normal" x="282.7427792521874" y="778.5175121274546" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Activity save success]</text><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 249.38117895390621 908.9478277074545 L 1927.9190903371486 908.9478277074545" stroke-miterlimit="10" stroke-width="1.0770463714285714" stroke-dasharray="1.8848311500000001"/></g><g/><g><rect fill="white" stroke="none" x="281.6118805621874" y="909.5509736754545" width="50.2523979659375" height="7.840897584000002"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="4pt" font-style="normal" font-weight="bold" text-decoration="normal" x="282.7427792521874" y="914.9792873874545" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Retry save failure]</text><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 249.38117895390621 981.3253438674545 L 1927.9190903371486 981.3253438674545" stroke-miterlimit="10" stroke-width="1.0770463714285714" stroke-dasharray="1.8848311500000001"/></g><g/><g><rect fill="white" stroke="none" x="281.6118805621874" y="981.9284898354546" width="157.47918934777343" height="7.840897584000002"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="4pt" font-style="normal" font-weight="bold" text-decoration="normal" x="282.7427792521874" y="987.3568035474545" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Reach max attempts: ENV{retrySaveActivitiesMaxAttempts}]</text></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 256.9205035539062 792.8422288674545 L 1920.3797657371485 792.8422288674545 L 1920.3797657371485 897.6388408074545 L 256.9205035539062 897.6388408074545 L 256.9205035539062 792.8422288674545 Z" stroke-miterlimit="10" stroke-width="1.0770463714285714" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 256.9205035539062 792.8422288674545 L 256.9205035539062 801.8894183874545 L 458.3870006542968 801.8894183874545 L 462.9105954142968 797.3658236274546 L 462.9105954142968 792.8422288674545 L 256.9205035539062 792.8422288674545" stroke-miterlimit="10" stroke-width="1.0770463714285714" stroke-dasharray=""/><text fill="black" stroke="none" font-family="sans-serif" font-size="4pt" font-style="normal" font-weight="bold" text-decoration="normal" x="264.4598281539062" y="798.8736885474545" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">finalizeActivityTransaction(uuid,totalAwards, activity, organization, event)</text></g><g/><g/><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 371.98983589062493 1242.1859750274552 L 2109.1775048888435 1242.1859750274552 L 2109.1775048888435 1639.5083814474567 L 371.98983589062493 1639.5083814474567 L 371.98983589062493 1242.1859750274552 Z" stroke-miterlimit="10" stroke-width="1.0770463714285714" stroke-dasharray=""/><path fill="#2f2e7b" stroke="black" paint-order="fill stroke markers" d=" M 371.98983589062493 1242.1859750274552 L 371.98983589062493 1251.2331645474553 L 452.5247076248046 1251.2331645474553 L 457.0483023848046 1246.7095697874552 L 457.0483023848046 1242.1859750274552 L 371.98983589062493 1242.1859750274552" stroke-miterlimit="10" stroke-width="1.0770463714285714" stroke-dasharray=""/><text fill="white" stroke="none" font-family="sans-serif" font-size="4pt" font-style="normal" font-weight="bold" text-decoration="normal" x="379.5291604906249" y="1248.2174347074554" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">repeatableRollback(UUID)</text></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 379.5291604906249 1262.5421514474554 L 2101.6381802888436 1262.5421514474554 L 2101.6381802888436 1628.1993945474567 L 379.5291604906249 1628.1993945474567 L 379.5291604906249 1262.5421514474554 Z" stroke-miterlimit="10" stroke-width="1.0770463714285714" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 379.5291604906249 1262.5421514474554 L 379.5291604906249 1271.5893409674554 L 405.85594811835927 1271.5893409674554 L 410.37954287835925 1267.0657462074553 L 410.37954287835925 1262.5421514474554 L 379.5291604906249 1262.5421514474554" stroke-miterlimit="10" stroke-width="1.0770463714285714" stroke-dasharray=""/><text fill="black" stroke="none" font-family="sans-serif" font-size="4pt" font-style="normal" font-weight="bold" text-decoration="normal" x="387.0684850906249" y="1268.5736111274555" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">loop</text><g><rect fill="white" stroke="none" x="416.78796878835925" y="1263.1452974154554" width="161.81506581261718" height="7.840897584000002"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="4pt" font-style="normal" font-weight="bold" text-decoration="normal" x="417.91886747835923" y="1268.5736111274555" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Retry until success or ENV{retryAwardRollbackMaxAttempts}]</text></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 387.06848509062496 1282.8983278674555 L 2094.0988556888437 1282.8983278674555 L 2094.0988556888437 1616.8904076474566 L 387.06848509062496 1616.8904076474566 L 387.06848509062496 1282.8983278674555 Z" stroke-miterlimit="10" stroke-width="1.0770463714285714" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 387.06848509062496 1282.8983278674555 L 387.06848509062496 1291.9455173874555 L 408.36716602890624 1291.9455173874555 L 412.8907607889062 1287.4219226274554 L 412.8907607889062 1282.8983278674555 L 387.06848509062496 1282.8983278674555" stroke-miterlimit="10" stroke-width="1.0770463714285714" stroke-dasharray=""/><text fill="black" stroke="none" font-family="sans-serif" font-size="4pt" font-style="normal" font-weight="bold" text-decoration="normal" x="394.60780969062495" y="1288.9297875474556" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">alt</text><g><rect fill="white" stroke="none" x="419.2991866989062" y="1283.5014738354555" width="66.44796986535157" height="7.840897584000002"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="4pt" font-style="normal" font-weight="bold" text-decoration="normal" x="420.4300853889062" y="1288.9297875474556" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Award rollback success]</text><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 387.06848509062496 1503.0466061874563 L 2094.0988556888437 1503.0466061874563" stroke-miterlimit="10" stroke-width="1.0770463714285714" stroke-dasharray="1.8848311500000001"/></g><g/><g><rect fill="white" stroke="none" x="419.2991866989062" y="1503.6497521554563" width="61.40165944054687" height="7.840897584000002"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="4pt" font-style="normal" font-weight="bold" text-decoration="normal" x="420.4300853889062" y="1509.0780658674564" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Award rollback failure]</text><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 387.06848509062496 1575.4241223474564 L 2094.0988556888437 1575.4241223474564" stroke-miterlimit="10" stroke-width="1.0770463714285714" stroke-dasharray="1.8848311500000001"/></g><g/><g><rect fill="white" stroke="none" x="419.2991866989062" y="1576.0272683154565" width="159.74084706261718" height="7.840897584000002"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="4pt" font-style="normal" font-weight="bold" text-decoration="normal" x="420.4300853889062" y="1581.4555820274566" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Reach max attempts: ENV{retryAwardRollbackMaxAttempts}]</text></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 394.60780969062495 1334.1657351474555 L 2086.5595310888434 1334.1657351474555 L 2086.5595310888434 1470.6275104074562 L 394.60780969062495 1470.6275104074562 L 394.60780969062495 1334.1657351474555 Z" stroke-miterlimit="10" stroke-width="1.0770463714285714" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 394.60780969062495 1334.1657351474555 L 394.60780969062495 1343.2129246674556 L 446.7048457314453 1343.2129246674556 L 451.22844049144527 1338.6893299074554 L 451.22844049144527 1334.1657351474555 L 394.60780969062495 1334.1657351474555" stroke-miterlimit="10" stroke-width="1.0770463714285714" stroke-dasharray=""/><text fill="black" stroke="none" font-family="sans-serif" font-size="4pt" font-style="normal" font-weight="bold" text-decoration="normal" x="402.14713429062493" y="1340.1971948274556" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">rollback(UUID)</text></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 402.14713429062493 1396.7421293274558 L 814.3080201083359 1396.7421293274558 L 814.3080201083359 1459.3185235074561 L 402.14713429062493 1459.3185235074561 L 402.14713429062493 1396.7421293274558 Z" stroke-miterlimit="10" stroke-width="1.0770463714285714" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 402.14713429062493 1396.7421293274558 L 402.14713429062493 1405.789318847456 L 428.47392191835934 1405.789318847456 L 432.9975166783593 1401.2657240874557 L 432.9975166783593 1396.7421293274558 L 402.14713429062493 1396.7421293274558" stroke-miterlimit="10" stroke-width="1.0770463714285714" stroke-dasharray=""/><text fill="black" stroke="none" font-family="sans-serif" font-size="4pt" font-style="normal" font-weight="bold" text-decoration="normal" x="409.6864588906249" y="1402.773589007456" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">loop</text><g><rect fill="white" stroke="none" x="439.4059425883593" y="1397.3452752954558" width="98.51368946984375" height="7.840897584000002"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="4pt" font-style="normal" font-weight="bold" text-decoration="normal" x="440.5368412783593" y="1402.773589007456" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[for each List&lt;long&gt; batch in batches]</text></g><g/><g/></g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/></g></svg>