<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
</head>
<body>
    <div th:fragment="content">
        <div th:switch="${organizations}" class="mt-1">
          <h4 class="mb-1 text-center">Organizations</h4>
          <table class="table table-striped table-sm text-sm">
              <thead class="thead-dark">
                  <tr>
                      <th class="col-md-1 text-center text-nowrap">Name</th>
                      <th class="col-md-1 text-center text-nowrap">Blocked</th>
                      <th class="col-md-4 text-center text-nowrap">Blocked By</th>
                      <th class="col-md-1 text-center text-nowrap">Award</th>
                      <th th:if="${enableTestBehavior}" class="col-md-3 text-center text-nowrap">Demonstrate</th>
                  </tr>
              </thead>
              <tbody th:case="null">
	              <tr><td class="text-center" th:attr="colspan=${enableTestBehavior} ? 5 : 4">No Organizations</td></tr>
	          </tbody>
	          <tbody th:case="*">
                  <tr th:each="organization : ${organizations}">
                      <td th:text="${organization.name}"></td>
                      <td class="text-center" th:text="${organization.blocked? 'Yes':'No'}"></td>
                      <td th:text="${organization.blockedBy}"></td>
                      <td class="text-center">
                          <button 
                              th:disabled="${organization.blocked}" 
                              class="awardButton btn text-nowrap btn-secondary" 
                              th:classappend="${(enableTestBehavior && (organization.name == 'Frajola' || organization.name == 'Tom') && !organization.blocked) ? 'btn-danger' : ''}" 
                              type="button" 
                              th:value="${organization.id}">
                              Gift Award
                          </button>
                      </td>
                      <td th:if="${enableTestBehavior}">
                          <span >
                          	  <span th:if="${organization.name == 'Pikashu'}" class="text ml-2 small">
                                  <i class="bi bi-check-circle text-success"></i><span class="font-weight-bold" > Success in all</span>
                              </span>
                          	  <span th:if="${organization.name == 'Squanchy'}" class="text ml-2 small">
                                  <i class="bi bi-x-circle text-danger"></i> Activity:fails <br/>
                                  &nbsp;&nbsp; <i class="bi bi-x-circle text-danger"></i> Activity retry: fails <br/>
                                  &nbsp;&nbsp; <i class="bi bi-check-circle text-success"></i> <span class="font-weight-bold" >Rollback success </span>
                              </span>
                              <span th:if="${organization.name == 'Garfield'}" class="text ml-2 small">
                                  <i class="bi bi-x-circle text-danger"></i> Activity: fails<br/> 
                                  &nbsp;&nbsp;<i class="bi bi-arrow-counterclockwise text-success"></i> <span class="font-weight-bold" >Activity Retry: success</span>
                              </span>
                              <span th:if="${organization.name == 'Frajola'}" class="text ml-2 small">
                                  <i class="bi bi-database-exclamation text-danger"></i> <span class="font-weight-bold" >Large-scale data scenario </span><br/>
                                  &nbsp;&nbsp; <i class="bi bi-x-circle text-danger"></i> Activity:fails <br/>
                                  &nbsp;&nbsp; <i class="bi bi-x-circle text-danger"></i> Activity retry: fails <br/>
                                  &nbsp;&nbsp; <i class="bi bi-check-circle text-success"></i> <span class="font-weight-bold " >Rollback success </span>
                              </span>
                              <span th:if="${organization.name == 'Tom'}" class="text ml-2 small">
                              	  <i class="bi bi-database-exclamation text-danger"></i> <span class="font-weight-bold" >Large-scale data scenario </span><br/>
                                  &nbsp;&nbsp; <i class="bi bi-x-circle text-danger"></i> Activity:fails <br/>
                                  &nbsp;&nbsp; <i class="bi bi-x-circle text-danger"></i> Activity retry: fails <br/>
                                  &nbsp;&nbsp; <i class="bi bi-x-circle text-danger"></i> Rollback: fails <br/>
                                  &nbsp;&nbsp; <i class="bi bi-arrow-counterclockwise text-success"></i> <span class="font-weight-bold " > Rollback retry: success </span>
                              </span>
                              <span th:if="${organization.name == 'Hello Kitty'}" class="text ml-2 small">
                                  <i class="bi bi-x-circle text-danger"></i> Fail in all <br/>
                                  &nbsp;&nbsp; <i class="bi bi-sign-stop text-success"></i> <span class="font-weight-bold " >Keeps blocked </span>
                              </span>
                          </span>
                      </td>
                  </tr>
              </tbody>
          </table>
          
		<div class="border border-dark p-2 mt-3" style="max-width: 550px; margin-left: auto;">
		    <span class="mb-1 text-left font-weight-bold">Legend:</span>
		    <div class="d-flex align-items-center mt-1">
		        <div class="me-3" style="width: 20px; height: 20px; background-color: red;"></div>
		        <span class="pl-2 small">Organization with 3 Millions of employees (will take ~16 sec to complete the request)</span>
		    </div>
		</div>

            
        </div>
    </div>
</body>
</html>
